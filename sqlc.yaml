version: "2"
cloud:
  project: "Gojo"
sql:
  - engine: "postgresql"
    queries:
      - "./db/sqlc/user"
      - "./db/sqlc/info"
      - "./db/sqlc/anime_movie"
      - "./db/sqlc/anime_movie/info"
      - "./db/sqlc/anime_serie"
      - "./db/sqlc/anime_serie/info"
    schema: "./db/migration"
    strict_function_checks: true
    gen:
      go:
        package: "db"
        out: "db/database"
        sql_package: "pgx/v5"
        overrides:
          - db_type: "timestamptz"
            go_type: "time.Time"
          - db_type: "pg_catalog.interval"
            go_type: "time.Duration"
          - db_type: "uuid"
            go_type: "github.com/google/uuid.UUID"
        emit_json_tags: true
        emit_interface: true
        emit_empty_slices: true
        rename:
          ## add users
          users: "User"

          ## add sessions
          sessions: "Session"

          ## add verify_emails
          verify_emails: "VerifyEmail"

          ## add info
          metas: "Meta"
          genres: "Genre"
          studios: "Studio"
          languages: "Language"

          ## add anime_movies
          anime_movies: "AnimeMovie"
          anime_movie_studios: "AnimeMovieStudio"
          anime_movie_genres: "AnimeMovieGenre"
          anime_movie_metas: "AnimeMovieMeta"

          ## add anime_series
          anime_series: "AnimeSerie"
          anime_serie_studios: "AnimeSerieStudio"
          anime_serie_genres: "AnimeSerieGenre"
          anime_serie_metas: "AnimeSerieMeta"

          ## add anime_movie_data
          anime_movie_server_sub_videos : "AnimeMovieServerSubVideo"
          anime_movie_server_dub_videos : "AnimeMovieServerDubVideo"
          anime_movie_servers : "AnimeMovieServer"
          anime_movie_videos : "AnimeMovieVideo"

          ## add anime_serie_data
          anime_serie_season_episodes : "AnimeSerieSeasonEpisode"
          anime_serie_seasons : "AnimeSerieSeason"
          anime_serie_episode_servers : "AnimeSerieEpisodeServer"
          anime_serie_episodes : "AnimeSerieEpisode"
          anime_serie_server_sub_videos : "AnimeSerieServerSubVideo"
          anime_serie_server_dub_videos : "AnimeSerieServerDubVideo"
          anime_serie_servers : "AnimeSerieServer"
          anime_serie_videos : "AnimeSerieVideo"